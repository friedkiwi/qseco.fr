<!doctype html><html lang=en><head><title>Porting GnuCOBOL to IBM i :: QSECO.FR</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="I’ve successfully ported GnuCOBOL to IBM i, and it is now available in the repo.qseco.fr IBM i yum repository. It can now be installed using yum install gnucobol and a specfile is available in our specfiles repository.
The following terminal log demonstrates its use:
bash-4.4$ uname -a OS400 FLINT 2 7 00XX000XXXXX Os bash-4.4$ cat hello.cob IDENTIFICATION DIVISION. PROGRAM-ID. Hello-world. PROCEDURE DIVISION. DISPLAY &amp;quot;Hello, world!&amp;quot;. STOP RUN. bash-4.4$ cobc -x hello."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=/research/porting-gnucobol-ibmi/><link rel=stylesheet href=/assets/style.css><link rel=stylesheet href=/assets/green.css><link rel=apple-touch-icon href=/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=/img/favicon/green.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Porting GnuCOBOL to IBM i"><meta property="og:description" content="I’ve successfully ported GnuCOBOL to IBM i, and it is now available in the repo.qseco.fr IBM i yum repository. It can now be installed using yum install gnucobol and a specfile is available in our specfiles repository.
The following terminal log demonstrates its use:
bash-4.4$ uname -a OS400 FLINT 2 7 00XX000XXXXX Os bash-4.4$ cat hello.cob IDENTIFICATION DIVISION. PROGRAM-ID. Hello-world. PROCEDURE DIVISION. DISPLAY &amp;quot;Hello, world!&amp;quot;. STOP RUN. bash-4.4$ cobc -x hello."><meta property="og:url" content="/research/porting-gnucobol-ibmi/"><meta property="og:site_name" content="QSECO.FR"><meta property="og:image" content="/img/favicon/green.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2019-09-01 00:00:00 +0000 UTC"></head><body class=green><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>QSECO.FR</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/>Home</a></li><li><a href=/projects>Projects</a></li><li><a href=/blog>Blog</a></li><li><a href=/contact>Contact</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/>Home</a></li><li><a href=/projects>Projects</a></li><li><a href=/blog>Blog</a></li><li><a href=/contact>Contact</a></li></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=/research/porting-gnucobol-ibmi/>Porting GnuCOBOL to IBM i</a></h1><div class=post-meta><span class=post-date>2019-09-01</span></div><div class=post-content><div><p>I’ve successfully ported GnuCOBOL to IBM i, and it is now available in the repo.qseco.fr IBM i yum repository. It can now be installed using <code>yum install gnucobol</code> and a specfile is available in our specfiles repository.</p><p>The following terminal log demonstrates its use:</p><pre><code>bash-4.4$ uname -a
OS400 FLINT 2 7 00XX000XXXXX Os
bash-4.4$ cat hello.cob
       IDENTIFICATION DIVISION.
       PROGRAM-ID. Hello-world.
       PROCEDURE DIVISION.
           DISPLAY &quot;Hello, world!&quot;.
           STOP RUN.
bash-4.4$ cobc -x hello.cob
bash-4.4$ ./hello
Hello, world!
bash-4.4$ ls
hello  hello.cob
</code></pre><h1 id=porting-notes>Porting notes<a href=#porting-notes class=hanchor arialabel=Anchor>&#8983;</a></h1><p>Compiling GnuCOBOL from source on IBM i is trivial and does not require any patching, however, when building it using a specfile and the rpmbuild build harness, compilation fails with the following error message:</p><pre><code>. ../tests/atconfig &amp;&amp; . ../tests/atlocal extras-CBL_OC_DUMP.so \
        &amp;&amp; $COBC -m -Wall -O -o CBL_OC_DUMP.so CBL_OC_DUMP.cob
gcc.bin: error: unrecognized command line option '-R'; did you mean '-R'?
</code></pre><p>This happens because the rpmbuild build harness supplies rpath values to the configure script, and the resulting cobc internal compilation commands become invalid.</p><p>This can be resolved by appending &ndash;disable-rpath to the %configure statement when building a specfile.</p></div></div></div></div><footer class=footer><div class=footer__inner><div class="copyright copyright--user"><span>QSECO.FR Consulting</span></div></div></footer><script src=/assets/main.js></script><script src=/assets/prism.js></script><script type=text/javascript>var _paq=window._paq=window._paq||[];_paq.push(["setDocumentTitle",document.domain+"/"+document.title]),_paq.push(["setCookieDomain","*.qseco.fr"]),_paq.push(['trackPageView']),_paq.push(['enableLinkTracking']),function(){var b="https://stasi.cyber.gent/",c,a,d;_paq.push(['setTrackerUrl',b+'matomo.php']),_paq.push(['setSiteId','3']),c=document,a=c.createElement('script'),d=c.getElementsByTagName('script')[0],a.type='text/javascript',a.async=!0,a.src=b+'matomo.js',d.parentNode.insertBefore(a,d)}()</script><noscript><p><img src="https://stasi.cyber.gent/matomo.php?idsite=3&rec=1" style=border:0 alt></p></noscript></div></body></html>